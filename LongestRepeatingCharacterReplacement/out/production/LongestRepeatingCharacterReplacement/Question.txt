Given a string that consists of only uppercase letters and an integer k, you can change at most k characters in the string. Your task is to find the length of the longest substring that can be formed after making these changes such that all characters in that substring are the same.

Input: s = "AABABBA", k = 1
Output: 4

Explanation:

You can change one 'B' to 'A', resulting in the substring "AABAA", which has a length of 4.

Alternatively, you can change one 'A' to 'B', resulting in "ABAB" or "AABAB" which also has a length of 4.

The longest substring of repeated characters is "AAAA" or "BBBB", both with a length of 4.